(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{366:function(e,t,a){e.exports=a(971)},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},393:function(e,t){},401:function(e,t){},418:function(e,t){},420:function(e,t){},436:function(e,t){},437:function(e,t){},499:function(e,t){},501:function(e,t){},533:function(e,t){},535:function(e,t){},536:function(e,t){},541:function(e,t){},543:function(e,t){},549:function(e,t){},551:function(e,t){},564:function(e,t){},576:function(e,t){},579:function(e,t){},583:function(e,t){},595:function(e,t){},776:function(e,t){},780:function(e,t){},835:function(e,t){},901:function(e,t){},969:function(e,t,a){},971:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(355),c=a.n(o),s=(a(371),a(3)),i=a(5),l=a(9),u=a(7),m=a(10),d=a(169),p=a(20);a(372);var h=function(){return r.a.createElement("section",{className:"header"},r.a.createElement("section",{className:"header"},r.a.createElement("section",{className:"header-top__logo"},r.a.createElement("a",{href:"/",className:"header-logo"},"LOGO")),r.a.createElement("section",{className:"header-top__navbar"},r.a.createElement("section",{className:"header-top__navigation"},r.a.createElement(f,null)),r.a.createElement("hr",{className:"header-top__separator"}))),r.a.createElement("section",{className:"header-bottom"},r.a.createElement("section",{className:"header-bottom__phone"},"999999999"),r.a.createElement("section",{className:"header-bottom__email"},"...@email.com")))};a(373);var f=function(){return r.a.createElement("section",{className:"navbar"},r.a.createElement("a",{href:"/",className:"navbar-item"},"Home"),r.a.createElement("a",{href:"/about",className:"navbar-item"},"About"),r.a.createElement("a",{href:"/resources",className:"navbar-item"},"Resources"),r.a.createElement("a",{href:"/market",className:"navbar-item"},"Market"),r.a.createElement("a",{href:"/create",className:"navbar-item"},"Create"),r.a.createElement("a",{href:"/contact",className:"navbar-item"},"Contact"))},b=a(55),g=a(56),v=a(13),E=a.n(v),y=a(46),k=a(128),O=a.n(k),w=a(358),N=a(129),j=a.n(N),x=a(362),S=18,B="undefined"!==typeof web3?window.web3.currentProvider:new w.providers.HttpProvider("https://mainnet.infura.io"),C=[],M=function(e){C.push(e)};function A(){return F.apply(this,arguments)}function F(){return(F=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.web3){e.next=4;break}B=new x.PortisProvider({}),e.next=11;break;case 4:if(!window.ethereum){e.next=8;break}window.ethereum.enable(),e.next=11;break;case 8:throw t="You need an Ethereum wallet to interact with this marketplace. Unlock your wallet, get MetaMask.io or Portis on desktop, or get Trust Wallet or Coinbase Wallet on mobile.",alert(t),new Error(t);case 11:C.map(function(e){return e(B)});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _,L,P,T,D,I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.account,a=e.showImage,n=t.user?t.user.username:null,o=t.address,c=n||o.substring(2,8).toUpperCase();return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat("https://opensea.io","/accounts/").concat(o)},a&&t?r.a.createElement("div",{style:{backgroundImage:'url("'+t.image+'")'}}):null,r.a.createElement("span",null,c))}}]),t}(r.a.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.asset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-center d-inline-block m-100",href:e.openseaLink},r.a.createElement("img",{alt:"Asset artwork",src:e.imageUrl})),r.a.createElement("div",{className:"card-body h-25"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text text-truncate"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.openseaLink,className:"card-link"},e.assetContract.name," #",e.tokenId))))}}]),t}(r.a.Component),U=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.bundle;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-center d-inline-block m-100",href:e.permalink},r.a.createElement(z,null,e.assets.map(function(e,t){return r.a.createElement("img",{className:"small",alt:"Asset Bundle artwork",key:t,src:e.imageUrlThumbnail||e.imageUrl})}))),r.a.createElement("div",{className:"card-body h-25"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text text-truncate"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.permalink,className:"card-link"},e.description,r.a.createElement("br",null),e.externalLink))))}}]),t}(r.a.Component),z=g.a.div(_||(_=Object(b.a)(["\n  min-height: 120px;\n  max-height: 240px;\n  overflow-y: auto;\n  padding: 5px 0;\n"]))),Y=a(32),G=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.order,t=e.currentPrice,a=e.paymentTokenContract,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t&&null!=t.decimals?t.decimals:S;return new j.a(e.toString()).div(new j.a(10).pow(a))}(t,a),o=parseFloat(n).toLocaleString(void 0,{minimumSignificantDigits:1}),c="ETH"===a.symbol;return r.a.createElement(J,null,c?"\u039e":null,o," ",c?null:a.symbol)}}]),t}(r.a.Component),J=g.a.span(L||(L=Object(b.a)(["\n  img {\n    height: 15px !important;\n  }\n"]))),W=g.a.div.attrs({className:"card mx-2 mb-4"})(P||(P=Object(b.a)(["\n  min-width: 200px;\n  img {\n    height: 120px;\n    max-width: 100%;\n  }\n  img.small {\n    max-width: 50%;\n    height: 60px;\n  }\n"]))),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errorMessage:null,creatingOrder:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onError",value:function(e){var t=this;throw this.setState({errorMessage:e.message}),setTimeout(function(){return t.setState({errorMessage:null})},3e3),e}},{key:"fulfillOrder",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.order,n=t.accountAddress){e.next=4;break}return e.next=4,A();case 4:return e.prev=4,this.setState({creatingOrder:!0}),e.next=8,this.props.seaport.fulfillOrder({order:a,accountAddress:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),this.onError(e.t0);case 13:return e.prev=13,this.setState({creatingOrder:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,10,13,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderBuyButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.state.creatingOrder,n=this.props,o=n.accountAddress,c=n.order,s=function(){var a=Object(y.a)(E.a.mark(function a(){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o||t){a.next=3;break}return e.setState({errorMessage:"You already own this asset!"}),a.abrupt("return");case 3:e.fulfillOrder();case 4:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}();return r.a.createElement("button",{disabled:a,onClick:s,className:"btn btn-primary w-100"},"Buy",a?"ing":""," for ",r.a.createElement(G,{order:c}))}},{key:"renderAcceptOfferButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.state.creatingOrder,n=this.props,o=n.accountAddress,c=n.order,s=function(){var a=Object(y.a)(E.a.mark(function a(){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o||t){a.next=3;break}return e.setState({errorMessage:"You do not own this asset!"}),a.abrupt("return");case 3:e.fulfillOrder();case 4:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}();return r.a.createElement("button",{disabled:a,onClick:s,className:"btn btn-success w-100"},"Sell",a?"ing":""," for ",r.a.createElement(G,{order:c}))}},{key:"renderExpirationBadge",value:function(){var e=parseFloat(this.props.order.expirationTime);if(e<=0)return null;var t=O.a.duration(O.a.unix(e).diff(O()()));return r.a.createElement("span",{className:"badge bid-expiry-badge red"},r.a.createElement("i",{className:"tiny material-icons"},"timer"),r.a.createElement("span",{className:"expire-label"},"Expires in "),t.humanize())}},{key:"render",value:function(){var e=this.state.errorMessage,t=this.props,a=t.order,n=t.accountAddress,o=a.makerAccount,c=a.listingTime,s=a.asset,i=a.assetBundle,l=s?s.owner:i.assets[0].owner,u=1e3*c.toNumber(),m=O()(u).local().fromNow(),d=n&&n.toLowerCase()===l.address.toLowerCase();return r.a.createElement(W,null,s?r.a.createElement(H,{asset:s}):r.a.createElement(U,{bundle:i}),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Offered by ",r.a.createElement(I,{account:o})),e?r.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},e):r.a.createElement("li",{className:"list-group-item"},a.side===Y.OrderSide.Buy?this.renderAcceptOfferButton(d):null,a.side===Y.OrderSide.Sell?this.renderBuyButton(!d):null)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"Posted ",m)))}}]),t}(r.a.Component),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={orders:void 0,total:0,side:void 0,onlyForMe:!1,onlyByMe:!1,onlyBundles:!1,page:1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.accountAddress,e.next=3,this.props.seaport.api.getOrders({maker:this.state.onlyByMe?t:void 0,owner:this.state.onlyForMe?t:void 0,side:this.state.side,bundled:!!this.state.onlyBundles||void 0},this.state.page);case 3:a=e.sent,n=a.orders,r=a.count,this.setState({orders:n,total:r});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"paginateTo",value:function(e){var t=this;this.setState({orders:void 0,page:e},function(){return t.fetchData()})}},{key:"toggleSide",value:function(e){var t=this;this.state.side===e&&(e=void 0),this.setState({orders:void 0,side:e,onlyForMe:void 0},function(){return t.fetchData()})}},{key:"toggleForMe",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t,a=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.accountAddress){e.next=4;break}return e.next=4,A();case 4:t=this.state.onlyForMe,this.setState({orders:void 0,onlyForMe:!t,onlyByMe:!1,side:t?void 0:Y.OrderSide.Buy},function(){return a.fetchData()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleBundles",value:function(){var e=this,t=this.state.onlyBundles;this.setState({orders:void 0,onlyBundles:!t,onlyByMe:!1,side:Y.OrderSide.Sell},function(){return e.fetchData()})}},{key:"toggleByMe",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t,a=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.accountAddress){e.next=4;break}return e.next=4,A();case 4:t=this.state.onlyByMe,this.setState({orders:void 0,onlyByMe:!t,onlyForMe:!1},function(){return a.fetchData()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderPagination",value:function(){var e=this,t=this.state,a=t.page,n=t.total,o=this.props.seaport.api.pageSize,c=a*o>=n;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item "+(1===a?"disabled":"")},r.a.createElement("a",{className:"page-link",href:"#Log",onClick:function(){return e.paginateTo(a-1)},tabIndex:"-1"},"Previous")),r.a.createElement("li",{className:"page-item "+(c?"disabled":"")},r.a.createElement("a",{className:"page-link",href:"#Log",onClick:function(){return e.paginateTo(a+1)}},"Next"))))}},{key:"renderFilters",value:function(){var e=this,t=this.state,a=t.onlyByMe,n=t.onlyForMe,o=t.onlyBundles,c=this.state.side===Y.OrderSide.Sell,s=this.state.side===Y.OrderSide.Buy;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 ml-4"},"Filter orderbook:",r.a.createElement("div",{className:"btn-group ml-4",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-outline-primary "+(c?"active":""),"data-toggle":"button",onClick:function(){return e.toggleSide(Y.OrderSide.Sell)}},"Auctions"),r.a.createElement("button",{type:"button",className:"btn btn-outline-success "+(s?"active":""),"data-toggle":"button",onClick:function(){return e.toggleSide(Y.OrderSide.Buy)}},"Bids"))),r.a.createElement("div",{className:"mb-3 ml-4"},r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary "+(n?"active":""),"data-toggle":"button",onClick:function(){return e.toggleForMe()}},"For Me"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary "+(a?"active":""),"data-toggle":"button",onClick:function(){return e.toggleByMe()}},"By Me"))),r.a.createElement("div",{className:"mb-3 ml-4"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info "+(o?"active":""),"data-toggle":"button",onClick:function(){return e.toggleBundles()}},"Bundles")))}},{key:"render",value:function(){var e=this,t=this.state.orders;return r.a.createElement("div",{className:"container py-3",id:"Log"},this.renderFilters(),null!=t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-deck"},t.map(function(t,a){return r.a.createElement(R,Object.assign({},e.props,{key:a,order:t}))})),this.renderPagination()):r.a.createElement("div",{className:"text-center"},"Loading..."))}}]),t}(r.a.Component),K=a(217),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={accountAddress:null},a.onChangeAddress=function(){a.seaport=new K.OpenSeaPort(B,{networkName:K.Network.Main}),a.web3=a.seaport.web3,a.web3.eth.getAccounts(function(e,t){a.setState({accountAddress:t[0]})})},a.onChangeAddress(),M(a.onChangeAddress),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/BCharity-Net/nft-frontend"},r.a.createElement(X,{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png",alt:"Fork me on GitHub"})),r.a.createElement(V,null,r.a.createElement("h1",null,"The Ship's Log"),r.a.createElement("h6",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ProjectOpenSea/opensea-js"},r.a.createElement("img",{alt:"OpenSea logo",className:"mr-2",src:"/opensea-logo.png"}),"OpenSea.js")," example dapp")),r.a.createElement("main",null,r.a.createElement(q,{seaport:this.seaport,accountAddress:this.state.accountAddress})))}}]),t}(r.a.Component),V=g.a.header(T||(T=Object(b.a)(["\n  border-bottom: 1px solid lightgrey;\n  padding: 10px;\n  text-align: center;\n  background-color: #f4f9fd;\n\n  h6 img {\n    width: 24px;\n  }\n"]))),X=g.a.img(D||(D=Object(b.a)(["\n  width: 150px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  border: 0;\n\n  @media(max-width: 600px) {\n    width: 80px;\n  }\n"]))),Z=(a(969),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/marketplace"},"Marketplace"))),r.a.createElement(p.a,{exact:!0,path:"/",component:$}),r.a.createElement(p.a,{path:"/marketplace",component:Q}))))}}]),t}(r.a.Component)),$=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"home"))}}]),t}(r.a.Component),ee=Z,te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,975)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),te()}},[[366,1,2]]]);
//# sourceMappingURL=main.eeaeaa2b.chunk.js.map